---
import Layout from "../layouts/BaseLayout.astro";
---
<Layout>
  <section class="w-full min-h-screen flex justify-center items-center md:px-12 px-4 py-20 lg:py-4 scroll-trigger-section">
    <div class="max-w-[1280px] grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      <!-- Imagen primero en móviles, pero segunda en pantallas grandes -->
      <div class="relative flex justify-center lg:justify-end order-1 lg:order-2">
        <div class="absolute bg-[#4559b5] lg:w-[68%] lg:h-[96%] h-[90%] w-[96%] rounded-3xl lg:-right-4 top-8"></div>
        <div 
          class="relative w-[350px] lg:w-[410px] h-[250px] lg:h-[525px] bg-cover bg-center rounded-3xl z-10"
          style="background-image: url('/src/assets/about1.png');"
        ></div>
      </div>

      <!-- Texto segundo en móviles, pero primero en pantallas grandes -->
      <div class="flex flex-col justify-center items-center lg:items-start text-[#070441] text-center lg:text-left">
        <h2 class="text-3xl md:text-4xl font-bold underline decoration-[#4559b5]">
          We are passionate about exterior renovation and design
        </h2>
        <p class="mt-6 text-base  md:text-lg max-w-[600px]">
          Founded in the heart of Cuenca, Emag Contracting is an exterior remodeling company committed to delivering exceptional and long-lasting results. Our mission is to enhance the aesthetics and functionality of homes, creating spaces that offer comfort and beauty.
        </p>
      </div>
    </div>
  </section>

  <div class="flex justify-center mt-10">
    <div class="w-full max-w-[80%] h-[2px] bg-[#E0D5C4]"></div>
  </div>

  <!-- Featured Benefits Section -->
  <section class="w-full min-h-screen flex justify-center items-center px-6 md:px-12 scroll-trigger-section">
    <div class="max-w-[1280px] grid lg:grid-cols-2 gap-16 items-center">
      <div class="relative flex justify-center lg:justify-start">
        <div class="absolute bg-[#4559b5] lg:w-[68%] lg:h-[96%] h-[90%] w-[96%] rounded-3xl lg:-left-4 top-8"></div>
        <div 
          class="relative w-[350px] lg:w-[410px] h-[250px] lg:h-[575px] bg-cover bg-center rounded-3xl z-10"
          style="background-image: url('/src/assets/about2.png');"
        ></div>
      </div>
      <div class="flex flex-col justify-center items-center lg:items-end text-[#070441] text-center lg:text-right">
        <h2 class="text-3xl md:text-4xl font-bold underline decoration-[#4559b5]">
          Highlighted Benefits
        </h2>
        <p class="mt-6 text-base md:text-lg max-w-[600px] lg:text-right">
          With over 10 years of experience, we have worked on a wide range of projects that encompass all styles, from modern to traditional. We pride ourselves on offering comprehensive services including personalized advice, detailed planning, and flawless execution.
        </p>
      </div>
    </div>
  </section>

  <div class="flex justify-center mt-10">
    <div class="w-full max-w-[80%] h-[2px] bg-[#E0D5C4]"></div>
  </div>

  <div class="mt-[80px]"></div>

  <!-- New Section: Image on Top, Text Below -->
  <section class="w-full flex justify-center items-center px-6 md:px-12 scroll-trigger-section">
    <div class="max-w-[1280px] flex flex-col items-center text-center">
      <div class="relative flex justify-center">
        <div class="absolute bg-[#4559b5] w-[96%] lg:h-[96%] h-[90%] rounded-3xl top-8"></div>
        <div 
          class="relative w-[350px] lg:w-[410px] h-[250px] lg:h-[575px] bg-cover bg-center rounded-3xl z-10"
          style="background-image: url('/src/assets/about3.png');"
        ></div>
      </div>
      <div class="mt-10 text-[#070441]">
        <h2 class="text-3xl md:text-4xl font-bold underline decoration-[#4559b5]">
          Our Commitment
        </h2>
        <p class="mt-6 text-base md:text-lg max-w-[600px]">
          We strive to deliver high-quality exterior renovations that exceed client expectations. Our team is dedicated to craftsmanship, attention to detail, and bringing your vision to life.
        </p>
      </div>
    </div>
  </section>

  <div class="flex justify-center mt-10">
    <div class="w-full max-w-[80%] h-[2px] bg-[#E0D5C4]"></div>
  </div>

  <div class="mt-[80px]"></div>

  <script>
    import { gsap } from "gsap";
    import ScrollTrigger from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    document.addEventListener("DOMContentLoaded", () => {
      // Sección 1 animación scroll
      gsap.from(".scroll-trigger-section:nth-of-type(1) .relative", {
        opacity: 0,
        x: -100,
        duration: 1.5,
        ease: "power4.out",
        scrollTrigger: {
          trigger: ".scroll-trigger-section:nth-of-type(1)",
          start: "top 80%",
        }
      });

      gsap.from(".scroll-trigger-section:nth-of-type(1) h2", {
        opacity: 0,
        x: 100,
        duration: 1.5,
        ease: "power4.out",
        scrollTrigger: {
          trigger: ".scroll-trigger-section:nth-of-type(1)",
          start: "top 80%",
        }
      });

      // Sección 2 animación scroll
      gsap.from(".scroll-trigger-section:nth-of-type(2) .relative", {
        opacity: 0,
        y: 100,
        duration: 1.5,
        ease: "power4.out",
        scrollTrigger: {
          trigger: ".scroll-trigger-section:nth-of-type(2)",
          start: "top 85%",
        }
      });

      gsap.from(".scroll-trigger-section:nth-of-type(2) h2", {
        opacity: 0,
        y: -100,
        duration: 1.5,
        ease: "power4.out",
        scrollTrigger: {
          trigger: ".scroll-trigger-section:nth-of-type(2)",
          start: "top 85%",
        }
      });

      // Sección 3 animación scroll
      gsap.from(".scroll-trigger-section:nth-of-type(3) .relative", {
        opacity: 0,
        scale: 0.8,
        duration: 1.5,
        ease: "power4.out",
        scrollTrigger: {
          trigger: ".scroll-trigger-section:nth-of-type(3)",
          start: "top 85%",
        }
      });

      gsap.from(".scroll-trigger-section:nth-of-type(3) h2", {
        opacity: 0,
        scale: 0.9,
        duration: 1.5,
        ease: "power4.out",
        scrollTrigger: {
          trigger: ".scroll-trigger-section:nth-of-type(3)",
          start: "top 85%",
        }
      });
    });
  </script>
</Layout>
